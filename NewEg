//#include "stdafx.h"  //for earlier versions of Visual Studio.
#include <iostream>     // std::cout
#include <new>          // ::operator new
struct MyClass {
	int data[100];
	MyClass() { std::cout << "constructed [" << this << "]\n"; }
};
int main() {
	std::cout << "1: ";
	MyClass* p1 = new MyClass;
	// allocates memory by operator new (sizeof(MyClass)) then constructs object at new space
	std::cout << "2: ";
	MyClass* p2 = new (std::nothrow) MyClass;
	// allocates mem. by  op. new (sizeof(MyClass),std::nothrow) then constructs object at new space
	std::cout << "3: ";
	new (p2) MyClass;
	// doesnâ€™t allocate memory-calls: op. new (sizeof(MyClass),p2) but constructs an object at p2
	// Notice though that calling this function directly does not construct an object:
	std::cout << "4: (no constructor called) ";
	MyClass* p3 = (MyClass*) ::operator new (sizeof(MyClass));
	// allocates mem. by calling: op. new (sizeof(MyClass)) but does not call MyClass's constructor
	delete p1;		
	delete p2;		
	delete p3;		
	return 0;
}
